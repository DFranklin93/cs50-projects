{% extends "layout.html" %}

{% block main %}

    <!-- http://getbootstrap.com/docs/4.1/content/typography/ -->
    <h1 class="mb-3">Form</h1>

    <!-- http://getbootstrap.com/docs/4.1/components/forms/ -->
    <form action="/form" method="post" _lpchecked="1">

        <div class="form-group">
            <input id="name" autocomplete="off" autofocus class="form-control col-sm-4" name="name" placeholder="Name" type="text" >
        </div>

        <div class="form-group">
            <select class="form-control col-sm-4" name="house" id="house">
                <option disabled="" selected="" value="">House</option>
                <option value="Gryffindor">Gryffindor</option>
                <option value="Hufflepuff">Hufflepuff</option>
                <option value="Ravenclaw">Ravenclaw</option>
                <option value="Slytherin">Slytherin</option>
            </select>
        </div>

        <div class="form-group">
            
                <div class="form-check">
                    <input class="form-check-input" id="position" name="position" type="radio" value="Beater">
                    <label class="form-check-label" for="Beater">
                        Beater
                    </label>
                </div>
            
                <div class="form-check">
                    <input class="form-check-input" id="position" name="position" type="radio" value="Chaser">
                    <label class="form-check-label" for="Chaser">
                        Chaser
                    </label>
                </div>
            
                <div class="form-check">
                    <input class="form-check-input" id="position" name="position" type="radio" value="Keeper">
                    <label class="form-check-label" for="Keeper">
                        Keeper
                    </label>
                </div>
            
                <div class="form-check">
                    <input class="form-check-input" id="position" name="position" type="radio" value="Seeker">
                    <label class="form-check-label" for="Seeker">
                        Seeker
                    </label>
                </div>
                
                <ul></ul>
            
        </div>

        <!-- http://getbootstrap.com/docs/4.1/components/buttons/ -->
        <button class="btn btn-primary" type="submit">Submit</button>

    </form>

    <script>

        $(document).ready(()=>{
            const name = $('#name'),
                  house = $('#house'),
                  radioButtons = $('input[type=radio]:checked');
                  
            $(document).on('click', ()=>{
                console.log($('input[type=radio]:checked').val())    
            })
            
            formAlerts();
            
            function formAlerts(){
                $('button').click(()=>{
                    if(name.val().length == 0 && house.val() == null && radioButtons.val() == undefined){
                        alert('Dawg... Did you even try?')
                        return false;
                    }
                    if(name.val().length == 0){
                        alert('No name has been given');
                        return false;
                    }
                    if(house.val() == null){
                        alert('A house must be choosen');
                        return false;
                    }
                    if($('input[type=radio]:checked').val() == null){
                        let position = $('input[type=radio]:checked').val()
                        alert('A position must be choosen');
                        return false;
                    }
                    return true;
                })   
            }
        })

    </script>

{% endblock %}
